/*
???¶ ??????ßﬁ???3D????:
?????????3D????????????????????»Œ??????????
 */

#ifndef GLWIDGET25_H
#define GLWIDGET25_H

#include "glwidget.h"

struct Vertex1
{
    float x, y, z;
};

struct Object1
{
    int verts; // ?????ßÿ????????
    Vertex1 *points; // ????????????????
};

class GLWidget25 : public GLWidget
{
public:
    GLWidget25(int timeInterval = 0, QWidget *parent = 0);
    ~GLWidget25();
protected:
    void allocateObject1(Object1 *o, int n);
    void freeObject1(Object1 *o);
    void readLine(FILE *f, char *string);
    void loadObject1(const char *fileName, Object1 *o);
    Vertex1 calculate(int i);
    void initializeGL();
    void paintGL();
    void resizeGL(int width, int height);
    void keyPressEvent(QKeyEvent *e);
    void timeOut();
    void mousePressEvent(QMouseEvent *e);
    void mouseMoveEvent(QMouseEvent *e);
    void wheelEvent(QWheelEvent *e);
private:
    GLfloat scaling;
    QPoint lastPos;
    GLfloat xrot, yrot, zrot; // ??????
    GLfloat xspeed, yspeed, zspeed; // ??????
    GLfloat cx, cy, cz; // ????¶À??
    int key; // ?????????
    int step, steps; // ?»Œ?????
    bool morph; // ?????????
    int maxVertices; // ????????
    Object1 morph1, morph2, morph3, morph4;
    Object1 helper, *sour, *dest;
};

#endif // GLWIDGET25_H
